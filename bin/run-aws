#!/bin/bash

if [ "$#" -eq 0 ] ; then
  echo "Defaulting to development. Use '$0 production' or '$0 staging' or '$0 development' to pick an environment"
fi

env=${1:-development}

if [ "${env}" != "production" ] && [ "${env}" != "staging" ] && [ "${env}" != "development" ] ; then
  echo "Invalid env $env. Supported environments: production, staging and development (default)"
  exit 1
fi

./gradlew \
  -DTOKEN_ENV=${env} \
  -PmaxTestForks=4 \
  cleanTest :sdk:javadoc check

